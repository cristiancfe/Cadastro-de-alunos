<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="styles.css">
		<title>Alunos</title>
		<script src="./js/vue.js"></script>
	</head>
	<body>
		<div id="app">
			<h1>Cadastro de Alunos</h1>
			<form action>
				<label for="nomeCompleto">Nome Completo</label>
				<input  name="nomeCompleto" type="text" v-model="form.nome" >

				<label for="email">Email</label>
				<input  name="email" type="text" v-model="form.email">

				<label for="nota">Nota</label>
				<input  name="nota" type="text" v-model="form.nota">

				<input type="button" value="Cadastrar" @click="adicionarAluno">
			</form>

			<!-- <span>
				{{form.nome}} - {{form.email}} - {{form.nota}}
			</span> -->
			<div>
				<table class="table">
					<thead>
						<th>Nome</th>
						<th>Email</th>
						<th>Nota</th>
						<th>Ações</th>
					</thead>
					<tbody>
						<tr v-for="aluno in alunos">
							<td>{{aluno.nome}}</td>
							<td>{{aluno.email}}</td>
							<td>{{aluno.nota}}</td>
							<td>
								<button class="danger" @click="apagarAluno(aluno)">Apagar</button>
							</td>
						</tr>

					</tbody>
				</table>
			</div>
		</div>

	</body>
	<script>
		var app = new Vue({
			el:"#app",
			data: {
				form:{
					nome:'',
					email:'',
					nota:''
				},
				alunos: []
			},
			methods:{
				limparFormulario: function(){
					this.form = {
						nome:'',
						email:'',
						nota:''
					}
					},
					adicionarAluno: function(){
						this.alunos.push(this.form)
						this.limparFormulario()
					},
					apagarAluno: function(aluno){
						var posicao = this.alunos.indexOf(aluno)
						this.alunos.splice(posicao, 1)
					}
				}
			})		
			
	</script>

</html>